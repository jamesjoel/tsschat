<!DOCTYPE html>
<html ng-app="myApp">
<head>
	<title></title>
	<link rel="stylesheet" type="text/css" href="/css/bootstrap.css">
	<script type="text/javascript" src="/js/jquery.min.js"></script>
	<script type="text/javascript" src="/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/js/angular.min.js"></script>
	<script type="text/javascript" src="/js/app.js"></script>
</head>
<body ng-controller="myCtrl" ng-init="getData()">

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="/">NODE JS PROJECT</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="active"><a href="/">HOME</a></li>
      <li><a href="/about">ABOUT US</a></li>
      
    </ul>
  </div>
</nav>
<hr />

<div class="container">
	<div class="well">
		Add New <button class="btn btn-info" data-target="#addModal" data-toggle="modal" ng-click="newStudent={}">Add</button>
	</div>
	<table class="table table-bordered">
		<tr>
			<th>#</th>
			<th>Name</th>
			<th>Age</th>
			<th>Fee</th>
			<th>City</th>
			<th>Edit</th>
			<th>Delete</th>
		</tr>
		<tr ng-repeat="row in allData">
			<td>{{ $index+1 }}</td>
			<td>{{ row.name }}</td>
			<td>{{ row.age }}</td>
			<td>{{ row.fee }}</td>
			<td>{{ row.city }}</td>
			<td><button class="btn btn-primary" ng-click="ask_edit(row)" data-toggle="modal" data-target="#addModal">Edit</button></td>
			<td><button class="btn btn-danger" ng-click="ask_delete(row)" data-toggle="modal" data-target="#delModal">Delete</button></td>
			

		</tr>
	</table>
</div>

<div class="modal fade" id="addModal">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h3>{{ newStudent._id ? 'Edit' : 'Add New' }} Student</h3>
			</div>
			<div class="modal-body">
				<div class="form-group">
					<label>Name</label>
					<input type="text" class="form-control" ng-model="newStudent.name">
				</div>
				<div class="form-group">
					<label>Age</label>
					<input type="text" class="form-control"  ng-model="newStudent.age">
				</div>
				<div class="form-group">
					<label>Fee</label>
					<input type="text" class="form-control"  ng-model="newStudent.fee">
				</div>
				<div class="form-group">
					<label>City</label>
					<input type="text" class="form-control"  ng-model="newStudent.city">
				</div>
				
			</div>
			<div class="modal-footer">
				<button class="btn btn-success" data-dismiss="modal" ng-click="save()">{{ newStudent._id ? 'Update' : 'Add' }}</button>
				<button class="btn btn-danger" data-dismiss="modal">Close</button>
			</div>

		</div>
	</div>
</div>



<div class="modal fade" id="delModal">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h3>Delete Student</h3>
			</div>
			<div class="modal-body">
				<p>Are Your Sure want to delete <strong>{{ selectedObj.name }}</strong></p>				
			</div>
			<div class="modal-footer">
				<button class="btn btn-success" data-dismiss="modal" ng-click="conf_delete()">OK</button>
				<button class="btn btn-danger" data-dismiss="modal">Close</button>
			</div>

		</div>
	</div>
</div>


</body>
</html>